<?php include 'header.php'; ?>

<!-- Rebelstuff Hero -->
<section class="mb-5">
  <div class="p-4 p-md-5 rounded-4 hero-gradient shadow-sm">
    <div class="row g-4 align-items-center">
      <div class="col-lg-7">
        <h1 class="display-6 fw-bold mb-3">Rebelstuff</h1>
        <p class="lead mb-3">Brand lokal streetwear dengan desain orisinal & kualitas terbaik.</p>
        <div class="d-flex gap-2 flex-wrap mb-3">
          <span class="badge pill-badge">Orisinal Design</span>
          <span class="badge pill-badge">Bahan Premium</span>
          <span class="badge pill-badge">Made in Indonesia</span>
        </div>
        <div class="d-flex gap-2">
          <a href="#shop" class="btn btn-light btn-lg"><i class="fa fa-cart-plus me-1"></i> Belanja Sekarang</a>
          <a href="#about" class="btn btn-outline-light btn-lg">Tentang Kami</a>
        </div>
      </div>
      <div class="col-lg-5">
        <div class="glass-card rounded-4 p-3 p-md-4 grid-icons">
          <div class="d-flex align-items-start mb-3">
            <div class="icon me-3"><i class="fa-solid fa-bolt"></i></div>
            <div>
              <div class="fw-semibold">Filosofi Desain</div>
              <div class="small">Kebebasan berekspresi & estetika urban yang berani.</div>
            </div>
          </div>
          <div class="d-flex align-items-start mb-3">
            <div class="icon me-3"><i class="fa-solid fa-star"></i></div>
            <div>
              <div class="fw-semibold">Komitmen Kualitas</div>
              <div class="small">Material nyaman, detail rapi, dipakai pede seharian.</div>
            </div>
          </div>
          <div class="d-flex align-items-start">
            <div class="icon me-3"><i class="fa-solid fa-fire"></i></div>
            <div>
              <div class="fw-semibold">Spirit Rebel</div>
              <div class="small">Berani tampil autentik tanpa takut penilaian orang.</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Filosofi & Komitmen (Accordion) -->
<section class="mb-5">
  <div class="card border-0 shadow-sm rounded-4">
    <div class="card-body p-3 p-md-4">
      <div class="d-flex align-items-center justify-content-between flex-wrap">
        <div>
          <h2 class="mb-1 section-title">Di Balik Setiap Desain</h2>
          <div class="divider"></div>
        </div>
      </div>
      <div class="accordion mt-2" id="accAbout">
        <div class="accordion-item">
          <h2 class="accordion-header" id="headingOne">
            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true">
              <i class="fa-solid fa-bolt me-2 text-warning"></i> Filosofi Desain
            </button>
          </h2>
          <div id="collapseOne" class="accordion-collapse collapse show" data-bs-parent="#accAbout">
            <div class="accordion-body">
              Desain kami membawa pesan kebebasan berekspresi dan gaya hidup urban. Desain Rebelstuff Project menggabungkan elemen-elemen estetika yang berani dengan filosofi yang mendalam.
              Setiap desain tidak hanya berfokus pada tampilan visual, tetapi juga membawa pesan yang kuat tentang pemberontakan, kebebasan, dan ekspresi diri. Dengan sentuhan modern, desain ini
              memadukan tren kontemporer dan inovasi, menciptakan karya yang relevan dengan gaya hidup generasi saat ini yang ingin tampil berbeda dan autentik.
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h2 class="accordion-header" id="headingTwo">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo">
              <i class="fa-solid fa-star me-2 text-primary"></i> Komitmen Kualitas
            </button>
          </h2>
          <div id="collapseTwo" class="accordion-collapse collapse" data-bs-parent="#accAbout">
            <div class="accordion-body">
              Rebelstuff Project berkomitmen untuk selalu menghadirkan produk dengan kualitas terbaik, menggunakan bahan-bahan unggulan yang tidak hanya tahan lama tetapi juga nyaman digunakan.
              Kami percaya bahwa kualitas adalah bagian dari setiap langkah kreatif, oleh karena itu setiap item yang kami buat dipilih dengan cermat menggunakan material yang premium dan ramah di kulit.
              Kami memastikan setiap jahitan, detail, dan tekstur produk kami memberikan kenyamanan ekstra untuk pemakainya, agar Anda dapat tampil penuh percaya diri tanpa mengorbankan kenyamanan.
              Dengan perpaduan antara desain berani dan kualitas bahan yang superior, Rebelstuff hadir untuk mendukung gaya hidup bebas, kreatif, dan penuh makna.
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Tentang Kami (Split + Timeline) -->
<section class="mb-5" id="about">
  <div class="card border-0 shadow-sm rounded-4">
    <div class="card-body p-3 p-md-4">
      <div class="row g-4">
        <div class="col-lg-7">
          <h2 class="mb-2 section-title">Tentang Kami</h2>
          <div class="divider"></div>
          <p>Rebelstuff adalah brand streetwear lokal yang berdiri sejak tahun 2019 di Kota Depok.
          Rebelstuff Project adalah brand yang mengusung semangat pemberontakan, kreativitas tanpa batas, dan autentisitas.
          Dengan fokus pada ekspresi diri yang bebas, brand ini mengajak individu untuk berani berpikir dan bertindak secara kreatif.
          Selain itu, Rebelstuff Project juga bisa mencerminkan upaya untuk menciptakan perubahan sosial atau budaya melalui karya-karya kreatif,
          menginspirasi orang untuk menjalani hidup dengan lebih berani dan tanpa takut pada penilaian orang lain.
          Kami berkomitmen menghadirkan produk fashion berkualitas tinggi dengan desain orisinal
          yang merepresentasikan semangat kebebasan dan gaya hidup urban anak muda Indonesia.
          Kami menggunakan bahan-bahan berkualitas tinggi untuk memastikan produk kami tahan lama dan nyaman digunakan.</p>
          <div class="row g-3 mt-1">
            <div class="col-sm-6">
              <div class="p-3 border rounded-3 h-100">
                <div class="fw-semibold mb-1"><i class="fa-solid fa-pen-ruler me-2 text-primary"></i>Desain Orisinal</div>
                <div class="small text-muted">Setiap rilisan digarap dari konsep, bukan sekadar cetak ulang.</div>
              </div>
            </div>
            <div class="col-sm-6">
              <div class="p-3 border rounded-3 h-100">
                <div class="fw-semibold mb-1"><i class="fa-solid fa-shirt me-2 text-primary"></i>Material Nyaman</div>
                <div class="small text-muted">Pilihan kain ramah kulit, pas buat dipakai seharian.</div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-5">
          <h6 class="text-uppercase text-muted mb-2">Perjalanan Singkat</h6>
          <div class="timeline">
            <div class="t-item">
              <div class="fw-semibold">2019 — Lahir di Depok</div>
              <div class="small text-muted">Memulai dari komunitas lokal & scene kreatif independen.</div>
            </div>
            <div class="t-item">
              <div class="fw-semibold">Grow — Komunitas Bertumbuh</div>
              <div class="small text-muted">Kolaborasi kecil, rilis terbatas, dan event pop-up.</div>
            </div>
            <div class="t-item">
              <div class="fw-semibold">Now — Tetap Autentik</div>
              <div class="small text-muted">Merayakan kebebasan berekspresi lewat rilisan yang relevan.</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Info Toko + Map -->
<section class="mb-5">
  <div class="card border-0 shadow-sm rounded-4">
    <div class="card-body p-4">
      <div class="row g-4 align-items-center">
        <div class="col-lg-5">
          <h3 class="fw-bold mb-2 section-title"><i class="fa-solid fa-store me-2"></i>Rebelstuff Store</h3>
          <div class="divider"></div>
          <p class="mb-1"><i class="fa-solid fa-location-dot me-2 text-primary"></i>Kp. Pitara Rangkapanjaya Kota Depok</p>
          <p class="mb-1"><i class="fa-solid fa-clock me-2 text-primary"></i>Jam Operasional: <strong>Senin - Sabtu, 10:00 - 21:00 WIB</strong></p>
          <p class="mb-1"><i class="fa-solid fa-phone me-2 text-primary"></i>No. Telepon: <a href="tel:087874872257" class="text-decoration-none">087874872257</a></p>
          <a class="btn btn-sm btn-outline-success mt-2" href="https://wa.me/6287874872257" target="_blank">
            <i class="fa-brands fa-whatsapp me-1"></i> Chat WhatsApp
          </a>
        </div>
        <div class="col-lg-7">
          <div class="ratio ratio-16x9 rounded-4 overflow-hidden">
            <iframe
              src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3944.6628362578583!2d106.85926701535618!3d-6.232786795906335!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2e6a1df6dbfabb57%3A0x6ad40263f343e4b4!2sTaja%20Kopi!5e0!3m2!1sen!2sid!4v1637316279929!5m2!1sen!2sid"
              width="100%" height="300" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Carousel Model Baju dengan Caption -->
<section class="mb-5">
  <h3 class="mb-3">Model Baju</h3>
  <?php $products = getProducts(); ?>
  <?php if(!$products): ?>
    <div class="alert alert-info">Belum ada produk. <a href="admin/products.php">Tambah sekarang</a>.</div>
  <?php else: ?>
    <div id="productCarousel" class="carousel slide shadow-sm rounded-4 overflow-hidden" data-bs-ride="carousel">
      <div class="carousel-indicators">
        <?php foreach($products as $idx=>$p): ?>
          <button type="button" data-bs-target="#productCarousel" data-bs-slide-to="<?php echo $idx; ?>" class="<?php echo $idx===0?'active':''; ?>" aria-current="<?php echo $idx===0?'true':'false'; ?>" aria-label="Slide <?php echo $idx+1; ?>"></button>
        <?php endforeach; ?>
      </div>
      <div class="carousel-inner">
        <?php foreach($products as $i=>$p): ?>
          <div class="carousel-item <?php echo $i===0?'active':''; ?>">
            <?php if($p['image_path']): ?>
              <div class="ratio ratio-21x9">
                <img src="<?php echo esc($p['image_path']); ?>" class="w-100 h-100" style="object-fit:cover;" alt="<?php echo esc($p['name']); ?>">
              </div>
            <?php else: ?>
              <div class="bg-light" style="height:420px; display:flex; align-items:center; justify-content:center;">
                <div class="text-muted">Belum ada gambar</div>
              </div>
            <?php endif; ?>
            <div class="carousel-caption d-none d-md-block text-start bg-dark bg-opacity-50 rounded p-3 m-3">
              <h5 class="mb-1"><?php echo esc($p['name']); ?> <span class="fw-normal text-warning"><?php echo formatRupiah($p['price']); ?></span></h5>
              <p class="small mb-2"><?php echo esc($p['description']); ?></p>
              <a class="btn btn-sm btn-primary"
                 onclick="addToCart(<?php echo $p['id']; ?>, '<?php echo esc(trim(explode(',', $p['sizes'])[0] ?? 'M')); ?>', 1)">
                 Tambah ke Keranjang
              </a>
            </div>
          </div>
        <?php endforeach; ?>
      </div>
      <button class="carousel-control-prev" type="button" data-bs-target="#productCarousel" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#productCarousel" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
    </div>
  <?php endif; ?>
</section>

<!-- Pilih Model & Ukuran -->
<section class="mt-4" id="shop">
  <h3 class="mb-3">Pilih Model & Ukuran</h3>
  <div class="row g-3">
  <?php $products = $products ?? getProducts(); if(!$products): ?>
    <div class="col-12">
      <div class="alert alert-info">Belum ada produk. <a href="admin/products.php">Tambah sekarang</a>.</div>
    </div>
  <?php else: foreach($products as $p): ?>
    <div class="col-12 col-sm-6 col-lg-4">
      <div class="card h-100">
        <?php if($p['image_path']): ?>
          <img src="<?php echo esc($p['image_path']); ?>" class="card-img-top" alt="<?php echo esc($p['name']); ?>" style="height:220px; object-fit:cover;">
        <?php endif; ?>
        <div class="card-body d-flex flex-column">
          <?php $isNew = !empty($p['created_at']) && (strtotime($p['created_at']) >= strtotime('-14 days')); ?>
          <div class="mb-1 d-flex gap-2 flex-wrap">
            <?php if(!empty($p['is_best_seller'])): ?><span class="badge bg-warning-subtle text-warning-emphasis">Best Seller</span><?php endif; ?>
            <?php if($isNew): ?><span class="badge bg-success-subtle text-success-emphasis">New</span><?php endif; ?>
          </div>
          <h5 class="card-title"><?php echo esc($p['name']); ?></h5>
          <p class="text-muted small flex-grow-1"><?php echo esc($p['description']); ?></p>
          <div class="mb-2 fw-semibold"><?php echo formatRupiah($p['price']); ?></div>
          <div class="mb-2">
            <label class="form-label small mb-1">Ukuran</label>
            <div>
            <?php $sizes = explode(',', $p['sizes'] ?: 'S,M,L,XL'); foreach($sizes as $s): $s=trim($s); ?>
              <span class="badge bg-light text-dark border me-1 badge-size"
                onclick="selectSize(<?php echo $p['id']; ?>, this, '<?php echo $s; ?>')">
                <?php echo $s; ?>
              </span>
            <?php endforeach; ?>
            </div>
            <input type="hidden" name="size_<?php echo $p['id']; ?>" value="<?php echo esc(trim(explode(',', $p['sizes'])[0] ?? 'M')); ?>">
          </div>
          <div class="d-flex align-items-center">
            <input type="number" min="1" value="1" class="form-control me-2" style="max-width:100px" id="qty_<?php echo $p['id']; ?>">
            <button class="btn btn-primary flex-grow-1"
              onclick="addToCart(<?php echo $p['id']; ?>, document.querySelector('input[name=size_<?php echo $p['id']; ?>]').value, document.getElementById('qty_<?php echo $p['id']; ?>').value)">
              Tambah ke Keranjang
            </button>
          </div>
        </div>
      </div>
    </div>
  <?php endforeach; endif; ?>
  </div>
</section>

<?php include 'footer.php'; ?>
